{% extends 'base.html' %} {% block content %}
<div class="container mx-auto py-8 flex flex-col items-center">
  <div class="bg-white shadow rounded p-6 w-full max-w-lg">
    <div class="flex flex-col md:flex-row gap-6">
      {% if product.image %}
      <img
        src="{{ product.image.url }}"
        alt="{{ product.name }}"
        class="h-60 w-60 object-contain mb-4 border rounded"
      />
      {% else %}
      <div
        class="h-60 w-60 flex items-center justify-center bg-gray-100 border rounded mb-4"
      >
        No Image
      </div>
      {% endif %}
      <div class="flex-1">
        <h2 class="text-2xl font-bold mb-2 text-blue-700">
          {{ product.name }}
        </h2>
        <p class="text-gray-600 mb-2">Category: {{ product.category.name }}</p>
        <p class="text-blue-700 font-bold text-xl mb-2">${{ product.price }}</p>
        <p class="text-xs text-gray-500 mb-2">Stock: {{ product.stock }}</p>
        <p class="mb-4">{{ product.description }}</p>
        <form
          method="post"
          action="{% url 'add_to_cart' product.id %}"
          class="flex gap-4 mb-4"
        >
          {% csrf_token %}
          <button
            type="submit"
            class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
          >
            Add to Cart
          </button>
        </form>
        <form
          method="post"
          action="{% url 'add_to_cart' product.id %}?buynow=1"
          class="flex gap-4 mb-4"
        >
          {% csrf_token %}
          <button
            type="submit"
            class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
          >
            Buy Now
          </button>
        </form>
        <a href="{% url 'product_list' %}" class="text-blue-600 hover:underline"
          >&larr; Back to Products</a
        >
      </div>
    </div>
  </div>
</div>
{% endblock %}
