{% extends 'base.html' %} 

{% block content %}
<div class="flex flex-col items-center justify-center min-h-[60vh] py-12">
  <div
    class="bg-white shadow-2xl rounded-xl p-8 md:p-12 w-full max-w-xl border border-gray-200 animate-fade-in"
  >
    <div class="flex flex-col items-center text-center">
      <div class="mb-4">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-16 w-16 text-green-500 animate-bounce-in"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
      </div>
      <h2 class="text-green-600 text-3xl font-extrabold mb-2 animate-fade-in">
        Thank you for your order!
      </h2>
      <p class="text-gray-600 mb-6 text-lg animate-fade-in delay-200">
        Your order <strong>#{{ order.id }}</strong> has been placed successfully.
      </p>
    </div>

    <div class="space-y-6">
      <div>
        <h3 class="text-xl font-semibold text-gray-700 mb-3">Order Summary</h3>
        <ul class="space-y-3 text-gray-600">
          {% for item in order.items.all %}
          <li class="flex justify-between items-center border-b pb-2">
            <span class="font-medium text-gray-800"
              >{{ item.product.name }} (x{{ item.quantity }})</span
            >
            <span class="font-bold text-gray-800"
              >${{ item.get_total|floatformat:2 }}</span
            >
          </li>
          {% endfor %}
        </ul>
      </div>

      <div>
        <h3 class="text-xl font-semibold text-gray-700 mb-3">
          Shipping Details
        </h3>
        <ul class="space-y-2 text-gray-600">
          <li class="flex justify-between items-center">
            <span class="font-medium">Recipient:</span>
            <span>{{ order.user.username }}</span>
          </li>
          <li class="flex justify-between items-center">
            <span class="font-medium">Address:</span>
            <span>{{ order.shipping_address }}</span>
          </li>
          <li class="flex justify-between items-center">
            <span class="font-medium">City:</span>
            <span>{{ order.shipping_city }}</span>
          </li>
          <li class="flex justify-between items-center">
            <span class="font-medium">Postal Code:</span>
            <span>{{ order.shipping_postal_code }}</span>
          </li>
          <li class="flex justify-between items-center">
            <span class="font-medium">Country:</span>
            <span>{{ order.shipping_country }}</span>
          </li>
        </ul>
      </div>
      
      <div class="border-t border-gray-200 pt-6">
        <div class="flex justify-between items-center font-bold text-xl">
          <span class="text-gray-800">Total Paid:</span>
          <span class="text-green-600">${{ order.total|floatformat:2 }}</span>
        </div>
      </div>
    </div>

    <a
      href="{% url 'product_list' %}"
      class="inline-block w-full text-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition-colors duration-300 mt-8"
    >
      Continue Shopping
    </a>
  </div>
</div>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.6s ease-out forwards;
    opacity: 0; /* Ensures it starts invisible */
  }

  .animate-fade-in.delay-200 {
    animation-delay: 0.2s;
  }
</style>
{% endblock %}